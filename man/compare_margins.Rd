% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_margins.R
\name{compare_margins}
\alias{compare_margins}
\title{Compare unweighted or weighted data to targets}
\usage{
compare_margins(df, design, weight, plot = FALSE)
}
\arguments{
\item{df}{Data frame of the data you intend on weighting.}

\item{design}{Full weighting design created by \code{wgt_design()}.}

\item{weight}{Name of weight variable, optional.}

\item{plot}{Display plot, default = FALSE.}
}
\value{
A tibble of unweighted counts and proportions, difference between 
unweighted and target proportions. If \code{`weight`} is given, it also includes
weighted counts and proportions, difference between weighted and target proportions.
Optionally, a plot of this information.
}
\description{
Inspect by what degree the unweighted or weighted sample proportions deviate from the
target proportions.
}
\examples{
data(weight_me)

mod <- universe(

    df = weight_me,

    build_margin(
        name = "costume",
        buckets = c("Bat Man", "Cactus"),
        targets = c(0.5, 0.5)),

    build_margin(
        name = "seeds",
        buckets = c("Tornado", "Bird", "Earthquake"),
        targets = c(0.3, 0.3, 0.4))
)

compare_margins(
    df = weight_me,
    design = mod,
    plot = TRUE
)

wgts <- iterake(
    df = weight_me,
    id = order, 
    design = mod
)

compare_margins(
    df = wgts,
    design = mod,
    weight = weight,
    plot = FALSE)

}
